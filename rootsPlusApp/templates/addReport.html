{% extends 'base.html' %}
{% block title %}Add Report{% endblock %}

{% block content %}
<div class="container py-4 col-md-6">
    <!-- Django Messages -->
    {% if messages %}
            {% for message in messages %}
            <div
              class="w-75 alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show mb-3"
              role="alert">
              <i class="bi bi-info-circle me-2"></i> {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>

            {% endfor %}
            {% endif %}
    <!-- End Django Messages --> 
            
    <h4 class="mb-4">Add Report for <span class="text-primary">{{ farm.name }}</span></h4>


    <form method="post" class="card shadow-sm p-4">
        {% csrf_token %}
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Season</label>
                <input type="text" name="season" class="form-control">
            </div>

            <div class="col-12">
                <label class="form-label">Recommendations</label>
                <textarea name="recommendations" rows="3" class="form-control"></textarea>
            </div>

            <div class="col-md-4">
                <label class="form-label">Overall Score</label>
                <input type="number" step="0.1" name="overall_score" class="form-control">
            </div>
        </div>

        <div class="col-12 mt-3">
            <label class="form-label">Notes</label>
            <textarea name="notes" rows="3" class="form-control"
                placeholder="Any additional observations..."></textarea>
        </div>

        <div class="col-md-4 mt-3">
            <label class="form-label">Status</label>
            <select name="status" class="form-select">
                <option value="Draft">Draft</option>
                <option value="Final">Final</option>
            </select>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-success">
                <i class="bi bi-file-earmark-plus me-1"></i> Save Report
            </button>
            <a href="{% url 'rootsPlusApp:reports_list' farm.id %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}